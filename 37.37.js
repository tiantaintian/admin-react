webpackJsonp([37],{24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(151);t["default"]=r.Col,e.exports=t["default"]},25:88,234:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.update2=t.update3=t.query3=t.query2=t.getAwardSum=t.getAwardList=t.update=t.query=void 0;var u=n(146),s=a(u),i=n(35),o=a(i),d=n(148),f=a(d),l=(t.query=function(){var e=(0,f["default"])(o["default"].mark(function t(){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.creat_Token(c.APIHost+"/admin/getAdminInfo",p.get("token")).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return e.stop()}},t,this)}));return function(){return e.apply(this,arguments)}}(),t.update=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.creat_Token(c.APIHost+"/admin/updateAdmin",p.get("token"),(0,s["default"])(e)).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.getAwardList=function(){var e=(0,f["default"])(o["default"].mark(function t(e){var n;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.page||(e.page=1),e.pageSize||(e.pageSize=10),n={},e.field&&(n[e.field]=e.keyword),t.abrupt("return",c.creat_Token(c.APIHost+"/awardRecord/search/"+e.page+"/"+e.pageSize,c.getAuth("/awardRecord/search/"+e.page+"/"+e.pageSize),(0,s["default"])({where:n})).then(function(e){return e.json()}).then(function(e){return e}));case 6:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.getAwardSum=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.read_Token(c.APIHost+"/awardRecord/awardSum",c.getAuth("/awardRecord/awardSum")).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return e.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.query2=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.read_Token(c.APIHost+"/admin/getSystemSet",c.getAuth("/admin/getSystemSet")).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return e.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.query3=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.read_Token(c.APIHost+"/admin/getTiXianSet",c.getAuth("/admin/getTiXianSet")).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return e.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.update3=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.creat_Token(c.APIHost+"/admin/editTixianFei/"+e.id,c.getAuth("/admin/editTixianFei/"+e.id),(0,s["default"])(e.data)).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.update2=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.creat_Token(c.APIHost+"/admin/editsystemSet/"+e.id,c.getAuth("/admin/editsystemSet/"+e.id),(0,s["default"])(e.data)).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),n(62),n(23)),c=r(l),p=n(55)},273:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(5),s=a(u),i=n(35),o=a(i),d=n(52),f=a(d);n(53);var l=n(234),c=(n(149),n(23)),p=r(c);t["default"]={namespace:"systemSet",state:{baseSet:{},awards:[],loading:!1,expendSum:0,harvestSum:0,pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171 "+e+" \u6761"},current:1,total:null}},subscriptions:{setup:function(e){var t=e.dispatch,n=e.history;n.listen(function(e){"/systemSet/jinSet"===e.pathname?t({type:"query2",payload:e.query}):"/baseSet"===e.pathname||"/baseSet"===e.pathname?t({type:"query",payload:e.query}):"/systemSet/flowerSet"===e.pathname&&t({type:"query2",payload:e.query})})}},effects:{query:o["default"].mark(function m(e,t){var n,r=(e.payload,t.call),a=t.put;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:"showLoading"});case 2:return e.next=4,r(l.query);case 4:if(n=e.sent,200!=n.code){e.next=10;break}return e.next=8,a({type:"querySuccess",baseSet:n.data});case 8:e.next=17;break;case 10:if(201!=n.code){e.next=14;break}f["default"].warning("\u767b\u5f55\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",1.5,function(){p.loginOut(),window.location.href="dashboard"}),e.next=17;break;case 14:return f["default"].info("\u64cd\u4f5c\u5931\u8d25"+n.message),e.next=17,a({type:"hideLoading"});case 17:case"end":return e.stop()}},m,this)}),query2:o["default"].mark(function h(e,t){var n,r=(e.payload,t.call),a=t.put;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:"showLoading"});case 2:return e.next=4,r(l.query2);case 4:if(n=e.sent,200!=n.code){e.next=8;break}return e.next=8,a({type:"querySuccess",baseSet:n.resource});case 8:case"end":return e.stop()}},h,this)}),update:o["default"].mark(function y(e,t){var n,r=e.payload,a=t.call,u=t.put;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(l.update,r);case 2:if(n=e.sent,105!=n.code){e.next=6;break}return e.next=6,u({type:"updateSuccess",payload:r});case 6:case"end":return e.stop()}},y,this)}),getAwardSum:o["default"].mark(function g(e,t){var n,r=(e.payload,t.call),a=t.put;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:"showLoading"});case 2:return e.next=4,r(l.getAwardSum);case 4:if(n=e.sent,107!=n.code){e.next=8;break}return e.next=8,a({type:"getAwardSumSuccess",payload:{expendSum:n.expendSum,harvestSum:n.harvestSum}});case 8:case"end":return e.stop()}},g,this)})},reducers:{showLoading:function(e){return(0,s["default"])({},e,{loading:!0})},hideLoading:function(e){return(0,s["default"])({},e,{loading:!1})},querySuccess:function(e,t){var n=t.baseSet;return(0,s["default"])({},e,{baseSet:n})},updateSuccess:function(e,t){var n=t.payload,r=(0,s["default"])({},r,n);return(0,s["default"])({},e,{baseSets:r})},getAwardsSuccess:function(e,t){var n=t.payload,r=n.awards,a=n.pagination,u=n.expendSum,i=n.harvestSum;return(0,s["default"])({},e,{awards:r,loading:!1,expendSum:u,harvestSum:i,pagination:(0,s["default"])({},e.pagination,a)})},getAwardSumSuccess:function(e,t){var n=t.payload,r=n.expendSum,a=n.harvestSum;return(0,s["default"])({},e,{harvestSum:a,expendSum:r})}}},e.exports=t["default"]},335:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.systemSet;return{systemSet:t}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(14),s=r(u),i=n(87),o=r(i),d=n(90),f=r(d),l=n(24),c=r(l),p=n(52),m=r(p),h=n(2),y=r(h),g=n(4),v=r(g),S=n(3),w=r(S);n(17),n(88),n(19),n(25),n(53);var b=n(1),k=r(b),x=n(136),A=n(234),T=(n(132),function(e){function t(){return(0,y["default"])(this,t),(0,v["default"])(this,e.apply(this,arguments))}return(0,w["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.systemSet;t.baseSet.monkey?this.refs.monkey.refs.input.value=t.baseSet.monkey:"",t.baseSet.monkeyTime?this.refs.monkeyTime.refs.input.value=t.baseSet.monkeyTime:"",t.baseSet.laojunbuzhen?this.refs.laojunbuzhen.refs.input.value=t.baseSet.laojunbuzhen:""},t.prototype.onSubmit=function(){var e=this.props.systemSet;if(!this.refs.monkey.refs.input.value)return void m["default"].warning("\u8bf7\u8f93\u5165\u5927\u5723\u5077\u53d6\u6bd4\u4f8b");if(!this.refs.monkeyTime.refs.input.value)return void m["default"].warning("\u8bf7\u8f93\u5165\u5927\u5723\u5077\u53d6\u65f6\u95f4");if(!this.refs.laojunbuzhen.refs.input.value)return void m["default"].warning("\u8bf7\u8f93\u5165\u8001\u541b\u9632\u62a4\u6bd4\u4f8b");var t={monkey:Number(this.refs.monkey.refs.input.value),monkeyTime:this.refs.monkeyTime.refs.input.value,laojunbuzhen:Number(this.refs.laojunbuzhen.refs.input.value)};(0,A.update)({id:e.baseSet._id,data:t}).then(function(e){105==e.statusCode?m["default"].info(e.message):m["default"].error(e.message)})},t.prototype.render=function(){return k["default"].createElement("div",{className:"content-inner"},k["default"].createElement(o["default"],{gutter:16,style:{marginTop:20}},k["default"].createElement(c["default"],{span:8,style:{textAlign:"right",paddingTop:6}},k["default"].createElement("h4",null,"\u5927\u5723\u5077\u53d6\u6bd4\u4f8b",k["default"].createElement("font",{color:"red"},"*"))),k["default"].createElement(c["default"],{span:8},k["default"].createElement(f["default"],{size:"large",style:{width:"100%"},placeholder:"\u5927\u5723\u5077\u53d6\u6bd4\u4f8b",ref:"monkey"}))),k["default"].createElement(o["default"],{gutter:16,style:{marginTop:20}},k["default"].createElement(c["default"],{span:8,style:{textAlign:"right",paddingTop:6}},k["default"].createElement("h4",null,"\u5927\u5723\u5077\u53d6\u65f6\u95f4",k["default"].createElement("font",{color:"red"},"*"))),k["default"].createElement(c["default"],{span:8},k["default"].createElement(f["default"],{size:"large",style:{width:"100%"},placeholder:"\u5927\u5723\u5077\u53d6\u65f6\u95f4",ref:"monkeyTime"}))),k["default"].createElement(o["default"],{gutter:16,style:{marginTop:20}},k["default"].createElement(c["default"],{span:8,style:{textAlign:"right",paddingTop:6}},k["default"].createElement("h4",null,"\u8001\u541b\u6d88\u8017\u6bd4\u4f8b",k["default"].createElement("font",{color:"red"},"*"))),k["default"].createElement(c["default"],{span:8},k["default"].createElement(f["default"],{size:"large",style:{width:"100%"},placeholder:"\u8001\u541b\u6d88\u8017\u6bd4\u4f8b",ref:"laojunbuzhen"}))),k["default"].createElement(o["default"],{type:"flex",justify:"center",gutter:16,style:{marginTop:30}},k["default"].createElement(c["default"],{span:3},k["default"].createElement(s["default"],{style:{width:"100%"},size:"large",type:"primary",onClick:this.onSubmit.bind(this)},"\u63d0\u4ea4"))))},t}(b.Component));t["default"]=(0,x.connect)(a)(T),e.exports=t["default"]}});