webpackJsonp([38],{24:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(151);t["default"]=n.Col,e.exports=t["default"]},25:88,234:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.update2=t.update3=t.query3=t.query2=t.getAwardSum=t.getAwardList=t.update=t.query=void 0;var u=r(146),s=a(u),i=r(35),o=a(i),d=r(148),f=a(d),c=(t.query=function(){var e=(0,f["default"])(o["default"].mark(function t(){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.creat_Token(l.APIHost+"/admin/getAdminInfo",p.get("token")).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return e.stop()}},t,this)}));return function(){return e.apply(this,arguments)}}(),t.update=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l.creat_Token(l.APIHost+"/admin/updateAdmin",p.get("token"),(0,s["default"])(e)).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.getAwardList=function(){var e=(0,f["default"])(o["default"].mark(function t(e){var r;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.page||(e.page=1),e.pageSize||(e.pageSize=10),r={},e.field&&(r[e.field]=e.keyword),t.abrupt("return",l.creat_Token(l.APIHost+"/awardRecord/search/"+e.page+"/"+e.pageSize,l.getAuth("/awardRecord/search/"+e.page+"/"+e.pageSize),(0,s["default"])({where:r})).then(function(e){return e.json()}).then(function(e){return e}));case 6:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.getAwardSum=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.read_Token(l.APIHost+"/awardRecord/awardSum",l.getAuth("/awardRecord/awardSum")).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return e.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.query2=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.read_Token(l.APIHost+"/admin/getSystemSet",l.getAuth("/admin/getSystemSet")).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return e.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.query3=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.read_Token(l.APIHost+"/admin/getTiXianSet",l.getAuth("/admin/getTiXianSet")).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return e.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.update3=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l.creat_Token(l.APIHost+"/admin/editTixianFei/"+e.id,l.getAuth("/admin/editTixianFei/"+e.id),(0,s["default"])(e.data)).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.update2=function(){var e=(0,f["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l.creat_Token(l.APIHost+"/admin/editsystemSet/"+e.id,l.getAuth("/admin/editsystemSet/"+e.id),(0,s["default"])(e.data)).then(function(e){return e.json()}).then(function(e){return e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),r(62),r(23)),l=n(c),p=r(55)},273:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(5),s=a(u),i=r(35),o=a(i),d=r(52),f=a(d);r(53);var c=r(234),l=(r(149),r(23)),p=n(l);t["default"]={namespace:"systemSet",state:{baseSet:{},awards:[],loading:!1,expendSum:0,harvestSum:0,pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171 "+e+" \u6761"},current:1,total:null}},subscriptions:{setup:function(e){var t=e.dispatch,r=e.history;r.listen(function(e){"/systemSet/jinSet"===e.pathname?t({type:"query2",payload:e.query}):"/baseSet"===e.pathname||"/baseSet"===e.pathname?t({type:"query",payload:e.query}):"/systemSet/flowerSet"===e.pathname&&t({type:"query2",payload:e.query})})}},effects:{query:o["default"].mark(function h(e,t){var r,n=(e.payload,t.call),a=t.put;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:"showLoading"});case 2:return e.next=4,n(c.query);case 4:if(r=e.sent,200!=r.code){e.next=10;break}return e.next=8,a({type:"querySuccess",baseSet:r.data});case 8:e.next=17;break;case 10:if(201!=r.code){e.next=14;break}f["default"].warning("\u767b\u5f55\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",1.5,function(){p.loginOut(),window.location.href="dashboard"}),e.next=17;break;case 14:return f["default"].info("\u64cd\u4f5c\u5931\u8d25"+r.message),e.next=17,a({type:"hideLoading"});case 17:case"end":return e.stop()}},h,this)}),query2:o["default"].mark(function m(e,t){var r,n=(e.payload,t.call),a=t.put;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:"showLoading"});case 2:return e.next=4,n(c.query2);case 4:if(r=e.sent,200!=r.code){e.next=8;break}return e.next=8,a({type:"querySuccess",baseSet:r.resource});case 8:case"end":return e.stop()}},m,this)}),update:o["default"].mark(function y(e,t){var r,n=e.payload,a=t.call,u=t.put;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(c.update,n);case 2:if(r=e.sent,105!=r.code){e.next=6;break}return e.next=6,u({type:"updateSuccess",payload:n});case 6:case"end":return e.stop()}},y,this)}),getAwardSum:o["default"].mark(function g(e,t){var r,n=(e.payload,t.call),a=t.put;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:"showLoading"});case 2:return e.next=4,n(c.getAwardSum);case 4:if(r=e.sent,107!=r.code){e.next=8;break}return e.next=8,a({type:"getAwardSumSuccess",payload:{expendSum:r.expendSum,harvestSum:r.harvestSum}});case 8:case"end":return e.stop()}},g,this)})},reducers:{showLoading:function(e){return(0,s["default"])({},e,{loading:!0})},hideLoading:function(e){return(0,s["default"])({},e,{loading:!1})},querySuccess:function(e,t){var r=t.baseSet;return(0,s["default"])({},e,{baseSet:r})},updateSuccess:function(e,t){var r=t.payload,n=(0,s["default"])({},n,r);return(0,s["default"])({},e,{baseSets:n})},getAwardsSuccess:function(e,t){var r=t.payload,n=r.awards,a=r.pagination,u=r.expendSum,i=r.harvestSum;return(0,s["default"])({},e,{awards:n,loading:!1,expendSum:u,harvestSum:i,pagination:(0,s["default"])({},e.pagination,a)})},getAwardSumSuccess:function(e,t){var r=t.payload,n=r.expendSum,a=r.harvestSum;return(0,s["default"])({},e,{harvestSum:a,expendSum:n})}}},e.exports=t["default"]},334:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.systemSet;return{systemSet:t}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(14),s=n(u),i=r(87),o=n(i),d=r(90),f=n(d),c=r(24),l=n(c),p=r(52),h=n(p),m=r(2),y=n(m),g=r(4),v=n(g),S=r(3),w=n(S);r(17),r(88),r(19),r(25),r(53);var b=r(1),x=n(b),k=r(136),A=r(234),_=(r(132),function(e){function t(){return(0,y["default"])(this,t),(0,v["default"])(this,e.apply(this,arguments))}return(0,w["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.systemSet;t.baseSet.rabbitC?this.refs.rabbitC.refs.input.value=t.baseSet.rabbitC:"",t.baseSet.carrot?this.refs.carrot.refs.input.value=t.baseSet.carrot:"",t.baseSet.description?this.refs.description.refs.input.value=t.baseSet.description:""},t.prototype.onSubmit=function(){var e=this.props.systemSet;if(!this.refs.rabbitC.refs.input.value)return void h["default"].warning("\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a\uff01");if(!this.refs.carrot.refs.input.value)return void h["default"].warning("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a\uff01");if(!this.refs.description.refs.input.value)return void h["default"].warning("\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a\uff01");var t={rabbitC:Number(this.refs.rabbitC.refs.input.value),carrot:Number(this.refs.carrot.refs.input.value)};(0,A.update2)({id:e.baseSet._id,data:t}).then(function(e){101==e.statusCode?h["default"].info(e.message):h["default"].error(e.message)})},t.prototype.render=function(){this.props.users;return x["default"].createElement("div",{className:"content-inner"},x["default"].createElement(o["default"],{gutter:16,style:{marginTop:20}},x["default"].createElement(l["default"],{span:8,style:{textAlign:"right",paddingTop:6}},x["default"].createElement("h4",null,"\u53c2\u6570\u63cf\u8ff0",x["default"].createElement("font",{color:"red"},"*"))),x["default"].createElement(l["default"],{span:8},x["default"].createElement(f["default"],{size:"large",disabled:!0,style:{width:"100%"},placeholder:"\u53c2\u6570\u63cf\u8ff0",ref:"description"}))),x["default"].createElement(o["default"],{gutter:16,style:{marginTop:20}},x["default"].createElement(l["default"],{span:8,style:{textAlign:"right",paddingTop:6}},x["default"].createElement("h4",null,"\u5c0f\u5154",x["default"].createElement("font",{color:"red"},"*"))),x["default"].createElement(l["default"],{span:8},x["default"].createElement(f["default"],{size:"large",style:{width:"100%"},placeholder:"\u5c0f\u5154",ref:"rabbitC"}))),x["default"].createElement(o["default"],{gutter:16,style:{marginTop:20}},x["default"].createElement(l["default"],{span:8,style:{textAlign:"right",paddingTop:6}},x["default"].createElement("h4",null,"\u80e1\u841d\u535c",x["default"].createElement("font",{color:"red"},"*"))),x["default"].createElement(l["default"],{span:8},x["default"].createElement(f["default"],{size:"large",style:{width:"100%"},placeholder:"\u80e1\u841d\u535c",ref:"carrot"}))),x["default"].createElement(o["default"],{type:"flex",justify:"center",gutter:16,style:{marginTop:30}},x["default"].createElement(l["default"],{span:3},x["default"].createElement(s["default"],{style:{width:"100%"},size:"large",type:"primary",onClick:this.onSubmit.bind(this)},"\u63d0\u4ea4"))))},t}(b.Component));t["default"]=(0,k.connect)(a)(_),e.exports=t["default"]}});